% Listing style definition for the Lean Theorem Prover.
% Defined by Jeremy Avigad, 2015, by modifying Assia Mahboubi's SSR style.
% Unicode replacements taken from Olivier Verdier's unixode.sty

\lstdefinelanguage{lean} {

% Anything betweeen $ becomes LaTeX math mode
mathescape=true,
% Comments may or not include Latex commands
texcl=false,

% keywords, list taken from lean-syntax.el
morekeywords=[1]{
import, prelude, protected, private, noncomputable, definition, meta, renaming,
hiding, exposing, parameter, parameters, begin, conjecture, constant, constants,
hypothesis, lemma, corollary, variable, variables, premise, premises, theory,
print, theorem, proposition, example, abstract,
open, as, export, override, axiom, axioms, inductive, with, without,
structure, record, universe, universes,
alias, help, precedence, reserve, declare_trace, add_key_equivalence,
match, infix, infixl, infixr, notation, postfix, prefix, instance,
eval, vm_eval, check, coercion, end, this, suppose,
using, using_well_founded, namespace, section, fields,
attribute, local, set_option, extends, include, omit, classes, class,
instances, coercions, attributes, raw, replacing,
calc, have, show, suffices, by, in, at, let, forall, Pi, fun,
exists, if, dif, then, else, assume, take, obtain, from, aliases, register_simp_ext,
mutual, def, run_command
},

% Sorts
morekeywords=[2]{Bleah, Type, Prop, Type*, Bleah}
%morekeywords=[2]{Type, Bleah*}

% tactics, list taken from lean-syntax.el
 morekeywords=[3]{
 Cond, or_else, then, try, when, assumption, eassumption, rapply,
 apply, fapply, eapply, rename, intro, intros, all_goals, fold, focus, focus_at,
 generalize, generalizes, clear, clears, revert, reverts, back, beta, done, exact, rexact,
 refine, repeat, whnf, rotate, rotate_left, rotate_right, inversion, cases, rewrite,
 xrewrite, krewrite, blast, simp, esimp, unfold, change, check_expr, contradiction,
 exfalso, split, existsi, constructor, fconstructor, left, right, injection, congruence, reflexivity,
 symmetry, transitivity, state, induction, induction_using, fail, append,
 substvars, now, with_options, with_attributes, with_attrs, note, 
 },

% modifiers, taken from lean-syntax.el
% note: 'otherkeywords' is needed because these use a different symbol.
% this command doesn't allow us to specify a number -- they are put with [1]
 otherkeywords={
 [persistent], [notation], [visible], [instance], [trans_instance],
 [class], [parsing-only], [coercion], [unfold_full], [constructor],
 [reducible], [irreducible], [semireducible], [quasireducible], [wf],
 [whnf], [multiple_instances], [none], [decl], [declaration],
 [relation], [symm], [subst], [refl], [trans], [simp], [congr], [unify],
 [backward], [forward], [no_pattern], [begin_end], [tactic], [abbreviation],
 [reducible], [unfold], [alias], [eqv], [intro], [intro!], [elim], [grinder],
 [localrefinfo], [recursor]
 },

% Comments
%comment=[s][\itshape \color{commentcolor}]{/-}{-/},
morecomment=[s][\color{Blue}]{/-}{-/},
morecomment=[l][\itshape \color{Blue}]{--},

% Spaces are not displayed as a special character
showstringspaces=false,

% keep spaces
keepspaces=true,

% String delimiters
morestring=[b]",
morestring=[d]Â’,

% Size of tabulations
tabsize=3,

% Case sensitivity
sensitive=true,

% Automatic breaking of long lines
breaklines=true,

% Default style for listingsred
basicstyle=\ttfamily,

%Add a frame around code
%frame=L,

% Position of captions is bottom
captionpos=b,
numberbychapter=false,
%name=Code,

% Full flexible columns
columns=[l]fullflexible,




% Style for (listings') identifiers
identifierstyle={\ttfamily\color{black}},
% Note : highlighting of Coq identifiers is done through a new
% delimiter definition through an lstset at the begining of the
% document. Don't know how to do better.

% Style for declaration keywords
keywordstyle=[1]{\ttfamily\color{Burgundy}},

% Style for sorts
keywordstyle=[2]{\ttfamily\color{OliveGreen}},

% Style for tactics keywords
% keywordstyle=[3]{\ttfamily\color{tacticcolor}},

% Style for attributes
% keywordstyle=[4]{\ttfamily\color{attributecolor}},

% Style for strings
stringstyle=\ttfamily,

% Style for comments
% commentstyle={\ttfamily\footnotesize },

}
